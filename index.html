<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ğŸ‘‘ Ù…Ø¯ÙŠØ± Ø§Ù„Ù…Ø§Ù„ Ø§Ù„Ø°ÙƒÙŠ - Ø§Ù„Ø¥ØµØ¯Ø§Ø± Ø§Ù„Ø­Ø¯ÙŠØ«</title>
    <style>
        /* Ù†Ø¸Ø§Ù… Ø£Ù„ÙˆØ§Ù† Ù…ØªØ·ÙˆØ± Ù…Ø¹ ÙˆØ¶Ø¹ Ù„ÙŠÙ„ÙŠ */
        :root {
            /* ÙˆØ¶Ø¹ Ø§Ù„Ù†Ù‡Ø§Ø± */
            --bg-primary: #FFFFFF;
            --bg-secondary: #F8FAFC;
            --bg-card: #FFFFFF;
            --text-primary: #1E293B;
            --text-secondary: #64748B;
            --border-color: #E2E8F0;
            --accent: #7C3AED;
            --accent-light: #A78BFA;
            --success: #10B981;
            --danger: #EF4444;
            --warning: #F59E0B;
            --info: #3B82F6;
            
            /* Ø§Ù„Ø¸Ù„Ø§Ù„ */
            --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.05);
            --shadow-md: 0 4px 12px rgba(0, 0, 0, 0.08);
            --shadow-lg: 0 10px 25px rgba(0, 0, 0, 0.1);
            --shadow-xl: 0 20px 40px rgba(0, 0, 0, 0.15);
            
            /* Ø§Ù„Ø²ÙˆØ§ÙŠØ§ */
            --radius-sm: 12px;
            --radius-md: 16px;
            --radius-lg: 20px;
            --radius-xl: 24px;
            --radius-full: 1000px;
            
            /* Ø§Ù„ØªØ¯Ø±Ø¬Ø§Øª */
            --gradient-primary: linear-gradient(135deg, #7C3AED 0%, #A78BFA 100%);
            --gradient-dark: linear-gradient(135deg, #1E293B 0%, #334155 100%);
            --gradient-success: linear-gradient(135deg, #10B981 0%, #34D399 100%);
            --gradient-danger: linear-gradient(135deg, #EF4444 0%, #F87171 100%);
            
            /* Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ù†Ø¸Ø§Ù… */
            --header-height: 60px;
            --nav-height: 70px;
            --safe-area-bottom: env(safe-area-inset-bottom, 0px);
        }

        /* Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù„ÙŠÙ„ÙŠ */
        .dark-mode {
            --bg-primary: #0F172A;
            --bg-secondary: #1E293B;
            --bg-card: #1E293B;
            --text-primary: #F1F5F9;
            --text-secondary: #94A3B8;
            --border-color: #334155;
            --accent: #8B5CF6;
            --accent-light: #A78BFA;
            --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.3);
            --shadow-md: 0 4px 12px rgba(0, 0, 0, 0.25);
            --shadow-lg: 0 10px 25px rgba(0, 0, 0, 0.3);
        }

        /* Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø¹Ø§Ù…Ø© */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            min-height: 100vh;
            overflow-x: hidden;
            transition: background-color 0.3s ease, color 0.3s ease;
            padding-bottom: calc(var(--nav-height) + var(--safe-area-bottom));
        }

        /* Ø§Ù„Ù‡ÙŠØ¯Ø± Ø§Ù„Ù…ØªØ­Ø³Ù† */
        .app-header {
            position: fixed;
            top: 0;
            right: 0;
            left: 0;
            height: var(--header-height);
            background: var(--bg-card);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border-bottom: 1px solid var(--border-color);
            z-index: 1000;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 20px;
            box-shadow: var(--shadow-sm);
        }

        .header-title {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .app-logo {
            width: 40px;
            height: 40px;
            background: var(--gradient-primary);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 20px;
        }

        .app-name {
            font-weight: 700;
            font-size: 18px;
            color: var(--text-primary);
        }

        .header-actions {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        /* Ø²Ø± Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù„ÙŠÙ„ÙŠ */
        .theme-toggle {
            width: 44px;
            height: 44px;
            border-radius: var(--radius-full);
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .theme-toggle:hover {
            background: var(--accent);
            color: white;
            transform: rotate(15deg);
        }

        /* Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ */
        .main-content {
            padding: calc(var(--header-height) + 20px) 20px 20px;
            max-width: 800px;
            margin: 0 auto;
            width: 100%;
        }

        /* Ø£Ù‚Ø³Ø§Ù… Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ */
        .section {
            display: none;
            animation: fadeIn 0.4s ease;
        }

        .section.active {
            display: block;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Ø§Ù„ØªÙ†Ù‚Ù„ Ø§Ù„Ø³ÙÙ„ÙŠ Ø§Ù„Ù…Ø·ÙˆØ± */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            right: 0;
            left: 0;
            height: calc(var(--nav-height) + var(--safe-area-bottom));
            background: var(--bg-card);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border-top: 1px solid var(--border-color);
            z-index: 1000;
            display: flex;
            justify-content: space-around;
            padding: 12px 0 var(--safe-area-bottom);
        }

        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            flex: 1;
            text-decoration: none;
            color: var(--text-secondary);
            position: relative;
            padding: 8px 0;
            transition: all 0.3s ease;
        }

        .nav-icon {
            width: 24px;
            height: 24px;
            margin-bottom: 6px;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .nav-label {
            font-size: 11px;
            font-weight: 600;
            opacity: 0.8;
            transition: all 0.3s ease;
        }

        .nav-item.active {
            color: var(--accent);
        }

        .nav-item.active .nav-icon {
            transform: translateY(-4px);
        }

        .nav-item.active .nav-label {
            opacity: 1;
            font-weight: 700;
        }

        .nav-indicator {
            position: absolute;
            top: -8px;
            width: 4px;
            height: 4px;
            background: var(--accent);
            border-radius: var(--radius-full);
            opacity: 0;
            transition: all 0.3s ease;
        }

        .nav-item.active .nav-indicator {
            opacity: 1;
        }

        /* Ø¨Ø·Ø§Ù‚Ø© ØªØ±Ø­ÙŠØ¨ÙŠØ© */
        .welcome-card {
            background: var(--gradient-dark);
            color: white;
            border-radius: var(--radius-lg);
            padding: 25px;
            margin-bottom: 25px;
            position: relative;
            overflow: hidden;
            box-shadow: var(--shadow-lg);
        }

        .welcome-card::before {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 200px;
            height: 200px;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
            border-radius: 50%;
            transform: translate(30%, -30%);
        }

        .welcome-title {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 8px;
        }

        .welcome-subtitle {
            font-size: 14px;
            opacity: 0.9;
            margin-bottom: 20px;
        }

        .balance-display {
            font-size: 32px;
            font-weight: 800;
            font-family: 'Courier New', monospace;
        }

        /* Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª Ø§Ù„Ø³Ø±ÙŠØ¹Ø© */
        .quick-actions {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
            margin-bottom: 25px;
        }

        .quick-action-btn {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-md);
            padding: 20px 16px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .quick-action-btn:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow-md);
            border-color: var(--accent-light);
        }

        .quick-action-icon {
            width: 44px;
            height: 44px;
            background: var(--gradient-primary);
            border-radius: var(--radius-md);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 20px;
        }

        .quick-action-text {
            font-weight: 600;
            font-size: 14px;
            text-align: center;
            color: var(--text-primary);
        }

        .quick-action-desc {
            font-size: 12px;
            color: var(--text-secondary);
            text-align: center;
            opacity: 0.8;
        }

        /* Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø£Ø´Ø®Ø§Øµ Ø§Ù„Ù…Ø·ÙˆØ±Ø© */
        .section-title {
            font-size: 20px;
            font-weight: 700;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .people-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
            gap: 15px;
            margin-bottom: 25px;
        }

        .person-card {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-lg);
            padding: 20px;
            position: relative;
            overflow: hidden;
            transition: all 0.3s ease;
        }

        .person-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-lg);
            border-color: var(--accent-light);
        }

        .person-avatar {
            width: 56px;
            height: 56px;
            background: var(--gradient-primary);
            border-radius: var(--radius-md);
            color: white;
            font-size: 20px;
            font-weight: 700;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 15px;
        }

        .person-name {
            font-weight: 700;
            font-size: 16px;
            margin-bottom: 8px;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }

        .person-balance {
            font-size: 18px;
            font-weight: 800;
            font-family: 'Courier New', monospace;
        }

        .balance-positive {
            color: var(--success);
        }

        .balance-negative {
            color: var(--danger);
        }

        /* Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª */
        .transactions-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .transaction-item {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-md);
            padding: 18px;
            display: flex;
            align-items: center;
            gap: 15px;
            transition: all 0.3s ease;
        }

        .transaction-item:hover {
            transform: translateX(5px);
            box-shadow: var(--shadow-md);
        }

        .transaction-icon {
            width: 44px;
            height: 44px;
            border-radius: var(--radius-md);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            color: white;
        }

        .transaction-details {
            flex: 1;
        }

        .transaction-title {
            font-weight: 600;
            font-size: 15px;
            margin-bottom: 4px;
        }

        .transaction-info {
            font-size: 13px;
            color: var(--text-secondary);
        }

        .transaction-amount {
            font-weight: 700;
            font-size: 16px;
            font-family: 'Courier New', monospace;
        }

        /* Ø²Ø± Ø§Ù„Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¹Ø§Ø¦Ù… */
        .fab {
            position: fixed;
            bottom: calc(var(--nav-height) + 20px);
            left: 20px;
            width: 56px;
            height: 56px;
            background: var(--gradient-primary);
            border-radius: var(--radius-full);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 24px;
            box-shadow: var(--shadow-lg);
            cursor: pointer;
            z-index: 999;
            transition: all 0.3s ease;
            border: none;
        }

        .fab:hover {
            transform: scale(1.1) rotate(90deg);
            box-shadow: 0 10px 30px rgba(124, 58, 237, 0.4);
        }

        /* Ø£Ø´ÙƒØ§Ù„ Ø¯ÙŠÙƒÙˆØ±ÙŠØ© */
        .decoration-circle {
            position: fixed;
            border-radius: 50%;
            pointer-events: none;
            z-index: -1;
        }

        .circle-1 {
            width: 300px;
            height: 300px;
            background: radial-gradient(circle, rgba(124, 58, 237, 0.1) 0%, transparent 70%);
            top: -100px;
            right: -100px;
        }

        .circle-2 {
            width: 200px;
            height: 200px;
            background: radial-gradient(circle, rgba(16, 185, 129, 0.1) 0%, transparent 70%);
            bottom: 100px;
            left: -50px;
        }

        /* Ø§Ù„Ù†ÙˆØ§ÙØ° Ø§Ù„Ù…Ù†Ø¨Ø«Ù‚Ø© (Modals) */
        .modal-overlay {
            position: fixed;
            top: 0;
            right: 0;
            bottom: 0;
            left: 0;
            background: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(5px);
            -webkit-backdrop-filter: blur(5px);
            z-index: 1100;
            display: none;
            animation: fadeIn 0.3s ease;
        }

        .modal-content {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: var(--bg-card);
            border-radius: var(--radius-xl);
            width: 90%;
            max-width: 500px;
            max-height: 90vh;
            overflow: hidden;
            box-shadow: var(--shadow-xl);
            z-index: 1101;
            display: none;
            animation: modalSlide 0.3s ease;
        }

        @keyframes modalSlide {
            from {
                opacity: 0;
                transform: translate(-50%, -40%);
            }
            to {
                opacity: 1;
                transform: translate(-50%, -50%);
            }
        }

        .modal-header {
            padding: 25px 25px 20px;
            border-bottom: 1px solid var(--border-color);
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .modal-title {
            font-size: 20px;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .modal-close {
            width: 36px;
            height: 36px;
            border-radius: var(--radius-full);
            background: var(--bg-secondary);
            border: none;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-primary);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .modal-close:hover {
            background: var(--accent);
            color: white;
        }

        .modal-body {
            padding: 25px;
            max-height: calc(90vh - 80px);
            overflow-y: auto;
        }

        /* Ø­Ù‚ÙˆÙ„ Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ù…Ø·ÙˆØ±Ø© */
        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            font-weight: 600;
            margin-bottom: 8px;
            color: var(--text-primary);
        }

        .form-control {
            width: 100%;
            padding: 16px;
            background: var(--bg-secondary);
            border: 2px solid var(--border-color);
            border-radius: var(--radius-md);
            color: var(--text-primary);
            font-size: 16px;
            transition: all 0.3s ease;
        }

        .form-control:focus {
            outline: none;
            border-color: var(--accent);
            box-shadow: 0 0 0 3px rgba(124, 58, 237, 0.1);
        }

        .form-select {
            width: 100%;
            padding: 16px;
            background: var(--bg-secondary);
            border: 2px solid var(--border-color);
            border-radius: var(--radius-md);
            color: var(--text-primary);
            font-size: 16px;
            cursor: pointer;
        }

        /* Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ù†Ù…Ø§Ø°Ø¬ */
        .modal-actions {
            display: flex;
            gap: 12px;
            margin-top: 25px;
        }

        .btn {
            flex: 1;
            padding: 16px 24px;
            border-radius: var(--radius-md);
            font-weight: 600;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: none;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .btn-primary {
            background: var(--gradient-primary);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(124, 58, 237, 0.3);
        }

        .btn-secondary {
            background: var(--bg-secondary);
            color: var(--text-primary);
            border: 1px solid var(--border-color);
        }

        .btn-secondary:hover {
            background: var(--border-color);
        }

        /* ØªØ­Ø³ÙŠÙ†Ø§Øª Ù„Ù„Ø´Ø§Ø´Ø§Øª Ø§Ù„ØµØºÙŠØ±Ø© */
        @media (max-width: 768px) {
            .main-content {
                padding: calc(var(--header-height) + 15px) 15px 15px;
            }
            
            .welcome-card {
                padding: 20px;
            }
            
            .welcome-title {
                font-size: 20px;
            }
            
            .balance-display {
                font-size: 28px;
            }
            
            .quick-actions {
                grid-template-columns: 1fr;
            }
            
            .people-grid {
                grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
                gap: 12px;
            }
            
            .modal-content {
                width: 95%;
            }
        }

        @media (max-width: 480px) {
            .app-header {
                padding: 0 15px;
            }
            
            .app-name {
                font-size: 16px;
            }
            
            .people-grid {
                grid-template-columns: 1fr 1fr;
            }
            
            .nav-label {
                font-size: 10px;
            }
        }

        /* Ø£Ø²Ø±Ø§Ø± Ø§Ù„ÙØ¦Ø§Øª */
        .category-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin: 15px 0;
        }

        .category-btn {
            padding: 10px 16px;
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-full);
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .category-btn:hover {
            transform: scale(1.05);
        }

        .category-btn.active {
            background: var(--gradient-primary);
            color: white;
            border-color: transparent;
        }

        /* Ø´Ø±ÙŠØ· Ø§Ù„Ø¨Ø­Ø« */
        .search-bar {
            position: relative;
            margin-bottom: 20px;
        }

        .search-input {
            width: 100%;
            padding: 16px 50px 16px 16px;
            background: var(--bg-secondary);
            border: 2px solid var(--border-color);
            border-radius: var(--radius-full);
            color: var(--text-primary);
            font-size: 16px;
            transition: all 0.3s ease;
        }

        .search-input:focus {
            outline: none;
            border-color: var(--accent);
        }

        .search-icon {
            position: absolute;
            left: 20px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-secondary);
        }

        /* Ø±Ø³Ø§Ù„Ø© Ø­Ø§Ù„Ø© ÙØ§Ø±ØºØ© */
        .empty-state {
            text-align: center;
            padding: 60px 20px;
            color: var(--text-secondary);
        }

        .empty-state-icon {
            font-size: 60px;
            margin-bottom: 20px;
            opacity: 0.5;
        }

        .empty-state-title {
            font-size: 18px;
            font-weight: 700;
            margin-bottom: 10px;
            color: var(--text-primary);
        }

        /* ØªØ­Ø³ÙŠÙ†Ø§Øª Ø´Ø§Ø´Ø© Ø§Ù„Ø¹Ø±Ø¶ */
        @media (min-height: 800px) {
            .main-content {
                padding-bottom: 40px;
            }
        }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- Ø§Ù„Ø£Ø´ÙƒØ§Ù„ Ø§Ù„Ø¯ÙŠÙƒÙˆØ±ÙŠØ© -->
    <div class="decoration-circle circle-1"></div>
    <div class="decoration-circle circle-2"></div>
    
    <!-- Ø§Ù„Ù‡ÙŠØ¯Ø± -->
    <header class="app-header">
        <div class="header-title">
            <div class="app-logo">
                <i class="fas fa-crown"></i>
            </div>
            <div class="app-name">Ù…Ø¯ÙŠØ± Ø§Ù„Ù…Ø§Ù„ Ø§Ù„Ø°ÙƒÙŠ</div>
        </div>
        <div class="header-actions">
            <button class="theme-toggle" id="themeToggle">
                <i class="fas fa-moon"></i>
            </button>
            <div class="current-time" id="currentTime">--:--</div>
        </div>
    </header>
    
    <!-- Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ -->
    <main class="main-content">
        <!-- Ù‚Ø³Ù… Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª -->
        <section class="section active" id="accounts-section">
            <div class="welcome-card">
                <div class="welcome-title">Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ! ğŸ‘‹</div>
                <div class="welcome-subtitle">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø£Ø±ØµØ¯Ø© Ù„Ø¯ÙŠÙƒ</div>
                <div class="balance-display" id="totalBalance">0 Ø¯ÙŠÙ†Ø§Ø±</div>
            </div>
            
            <div class="quick-actions">
                <div class="quick-action-btn" id="addPersonBtn">
                    <div class="quick-action-icon">
                        <i class="fas fa-user-plus"></i>
                    </div>
                    <div class="quick-action-text">Ø¥Ø¶Ø§ÙØ© Ø´Ø®Øµ</div>
                    <div class="quick-action-desc">Ø³Ø¬Ù„ Ø­Ø³Ø§Ø¨ Ø¬Ø¯ÙŠØ¯</div>
                </div>
                <div class="quick-action-btn" id="addTransactionBtn">
                    <div class="quick-action-icon">
                        <i class="fas fa-exchange-alt"></i>
                    </div>
                    <div class="quick-action-text">Ø¹Ù…Ù„ÙŠØ© Ø¬Ø¯ÙŠØ¯Ø©</div>
                    <div class="quick-action-desc">Ø³Ø¬Ù„ Ø¹Ù…Ù„ÙŠØ© Ù…Ø§Ù„ÙŠØ©</div>
                </div>
                <div class="quick-action-btn" id="transferBtn">
                    <div class="quick-action-icon">
                        <i class="fas fa-money-bill-transfer"></i>
                    </div>
                    <div class="quick-action-text">ØªØ­ÙˆÙŠÙ„ Ø£Ù…ÙˆØ§Ù„</div>
                    <div class="quick-action-desc">Ù†Ù‚Ù„ Ø¨ÙŠÙ† Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª</div>
                </div>
                <div class="quick-action-btn" id="reportBtn">
                    <div class="quick-action-icon">
                        <i class="fas fa-chart-bar"></i>
                    </div>
                    <div class="quick-action-text">Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±</div>
                    <div class="quick-action-desc">ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø£Ø¯Ø§Ø¡</div>
                </div>
            </div>
            
            <div class="section-title">
                <span>ğŸ‘¥ Ø§Ù„Ø£Ø´Ø®Ø§Øµ ÙˆØ§Ù„Ø­Ø³Ø§Ø¨Ø§Øª</span>
                <span class="text-secondary" id="peopleCount">0 Ø´Ø®Øµ</span>
            </div>
            
            <div class="people-grid" id="peopleList">
                <!-- Ø³ÙŠØªÙ… ØªØ¹Ø¨Ø¦ØªÙ‡ Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠØ§Ù‹ -->
            </div>
        </section>
        
        <!-- Ù‚Ø³Ù… Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª -->
        <section class="section" id="transactions-section">
            <div class="section-title">
                <span>ğŸ’° Ø§Ù„Ø³Ø¬Ù„ Ø§Ù„Ù…Ø§Ù„ÙŠ</span>
                <div class="text-secondary" id="transactionsCount">0 Ø¹Ù…Ù„ÙŠØ©</div>
            </div>
            
            <div class="search-bar">
                <input type="text" class="search-input" id="searchTransactions" placeholder="Ø§Ø¨Ø­Ø« ÙÙŠ Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª...">
                <div class="search-icon">
                    <i class="fas fa-search"></i>
                </div>
            </div>
            
            <div class="category-buttons">
                <button class="category-btn active" data-filter="all">Ø§Ù„ÙƒÙ„</button>
                <button class="category-btn" data-filter="income">Ø§Ù„Ø¥ÙŠØ¯Ø§Ø¹Ø§Øª</button>
                <button class="category-btn" data-filter="expense">Ø§Ù„Ø³Ø­ÙˆØ¨Ø§Øª</button>
                <button class="category-btn" data-filter="transfer">Ø§Ù„ØªØ­ÙˆÙŠÙ„Ø§Øª</button>
            </div>
            
            <div class="transactions-list" id="transactionsList">
                <!-- Ø³ÙŠØªÙ… ØªØ¹Ø¨Ø¦ØªÙ‡ Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠØ§Ù‹ -->
            </div>
        </section>
        
        <!-- Ù‚Ø³Ù… Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± -->
        <section class="section" id="reports-section">
            <div class="section-title">
                <span>ğŸ“Š Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± ÙˆØ§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª</span>
            </div>
            
            <div class="card" style="padding: 20px; margin-bottom: 20px;">
                <div class="form-group">
                    <label class="form-label">Ø§Ù„ÙØªØ±Ø© Ø§Ù„Ø²Ù…Ù†ÙŠØ©</label>
                    <select class="form-select" id="reportPeriod">
                        <option value="30">Ø¢Ø®Ø± 30 ÙŠÙˆÙ…</option>
                        <option value="90">Ø¢Ø®Ø± 90 ÙŠÙˆÙ…</option>
                        <option value="180">Ø¢Ø®Ø± 6 Ø£Ø´Ù‡Ø±</option>
                        <option value="365">Ø¢Ø®Ø± Ø³Ù†Ø©</option>
                    </select>
                </div>
                
                <div id="reportSummary">
                    <!-- Ø³ÙŠØªÙ… ØªØ¹Ø¨Ø¦ØªÙ‡ Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠØ§Ù‹ -->
                </div>
            </div>
            
            <div id="chartsContainer">
                <!-- Ø³ÙŠØªÙ… ØªØ¹Ø¨Ø¦ØªÙ‡ Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠØ§Ù‹ -->
            </div>
        </section>
        
        <!-- Ù‚Ø³Ù… Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª -->
        <section class="section" id="settings-section">
            <div class="section-title">
                <span>âš™ï¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</span>
            </div>
            
            <div class="card" style="padding: 20px; margin-bottom: 20px;">
                <h4 style="margin-bottom: 20px;">Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙˆØ§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª</h4>
                
                <div class="form-group">
                    <label class="form-label">Ø§Ø³Ù… Ø§Ù„ØªØ·Ø¨ÙŠÙ‚</label>
                    <input type="text" class="form-control" value="Ù…Ø¯ÙŠØ± Ø§Ù„Ù…Ø§Ù„ Ø§Ù„Ø°ÙƒÙŠ" readonly>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Ø¥ØµØ¯Ø§Ø± Ø§Ù„ØªØ·Ø¨ÙŠÙ‚</label>
                    <input type="text" class="form-control" value="v2.0" readonly>
                </div>
                
                <div class="modal-actions">
                    <button class="btn btn-secondary" id="exportData">
                        <i class="fas fa-download"></i> ØªØµØ¯ÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
                    </button>
                    <button class="btn btn-primary" id="importData">
                        <i class="fas fa-upload"></i> Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
                    </button>
                </div>
            </div>
            
            <div class="card" style="padding: 20px;">
                <h4 style="margin-bottom: 20px;">Ø§Ù„Ù…Ø·ÙˆØ±</h4>
                <p style="margin-bottom: 15px; color: var(--text-secondary);">
                    ØªÙ… ØªØ·ÙˆÙŠØ± Ù‡Ø°Ø§ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø£Ø­Ø¯Ø« Ø§Ù„ØªÙ‚Ù†ÙŠØ§Øª Ù„ÙŠÙƒÙˆÙ† Ø³Ù‡Ù„ Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… ÙˆØ³Ø±ÙŠØ¹ Ø§Ù„Ø£Ø¯Ø§Ø¡.
                </p>
                <button class="btn btn-primary" id="resetApp">
                    <i class="fas fa-redo"></i> Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
                </button>
            </div>
        </section>
    </main>
    
    <!-- Ø²Ø± Ø§Ù„Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¹Ø§Ø¦Ù… -->
    <button class="fab" id="mainFab">
        <i class="fas fa-plus"></i>
    </button>
    
    <!-- Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ†Ù‚Ù„ Ø§Ù„Ø³ÙÙ„ÙŠ -->
    <nav class="bottom-nav">
        <a href="#" class="nav-item active" data-section="accounts">
            <div class="nav-indicator"></div>
            <div class="nav-icon">
                <i class="fas fa-home"></i>
            </div>
            <div class="nav-label">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</div>
        </a>
        <a href="#" class="nav-item" data-section="transactions">
            <div class="nav-indicator"></div>
            <div class="nav-icon">
                <i class="fas fa-exchange-alt"></i>
            </div>
            <div class="nav-label">Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª</div>
        </a>
        <a href="#" class="nav-item" data-section="reports">
            <div class="nav-indicator"></div>
            <div class="nav-icon">
                <i class="fas fa-chart-bar"></i>
            </div>
            <div class="nav-label">Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±</div>
        </a>
        <a href="#" class="nav-item" data-section="settings">
            <div class="nav-indicator"></div>
            <div class="nav-icon">
                <i class="fas fa-cog"></i>
            </div>
            <div class="nav-label">Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</div>
        </a>
    </nav>
    
    <!-- Ù†Ø§ÙØ°Ø© Ø¥Ø¶Ø§ÙØ© Ø´Ø®Øµ -->
    <div class="modal-overlay" id="addPersonModal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title">
                    <i class="fas fa-user-plus"></i>
                    Ø¥Ø¶Ø§ÙØ© Ø´Ø®Øµ Ø¬Ø¯ÙŠØ¯
                </div>
                <button class="modal-close" onclick="closeModal('addPersonModal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label class="form-label">Ø§Ø³Ù… Ø§Ù„Ø´Ø®Øµ</label>
                    <input type="text" class="form-control" id="personName" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„">
                </div>
                <div class="form-group">
                    <label class="form-label">Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)</label>
                    <input type="tel" class="form-control" id="personPhone" placeholder="05xxxxxxxx">
                </div>
                <div class="form-group">
                    <label class="form-label">Ù…Ù„Ø§Ø­Ø¸Ø§Øª (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)</label>
                    <textarea class="form-control" id="personNotes" rows="3" placeholder="Ø£ÙŠ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©..."></textarea>
                </div>
                <div class="modal-actions">
                    <button class="btn btn-secondary" onclick="closeModal('addPersonModal')">
                        <i class="fas fa-times"></i> Ø¥Ù„ØºØ§Ø¡
                    </button>
                    <button class="btn btn-primary" id="savePersonBtn">
                        <i class="fas fa-save"></i> Ø­ÙØ¸ Ø§Ù„Ø´Ø®Øµ
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Ù†Ø§ÙØ°Ø© Ø¥Ø¶Ø§ÙØ© Ø¹Ù…Ù„ÙŠØ© -->
    <div class="modal-overlay" id="addTransactionModal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title">
                    <i class="fas fa-exchange-alt"></i>
                    Ø¹Ù…Ù„ÙŠØ© Ù…Ø§Ù„ÙŠØ© Ø¬Ø¯ÙŠØ¯Ø©
                </div>
                <button class="modal-close" onclick="closeModal('addTransactionModal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label class="form-label">Ù†ÙˆØ¹ Ø§Ù„Ø¹Ù…Ù„ÙŠØ©</label>
                    <select class="form-select" id="transactionType">
                        <option value="income">Ø¥ÙŠØ¯Ø§Ø¹ (Ø£Ø®Ø°Øª Ù…Ù†Ù‡)</option>
                        <option value="expense">Ø³Ø­Ø¨ (Ø¯ÙØ¹Øª Ù„Ù‡)</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">Ø§Ù„Ù…Ø¨Ù„Øº</label>
                    <input type="number" class="form-control" id="transactionAmount" placeholder="0.000" step="0.001">
                </div>
                <div class="form-group">
                    <label class="form-label">Ø§Ù„Ø´Ø®Øµ</label>
                    <select class="form-select" id="transactionPerson">
                        <!-- Ø³ÙŠØªÙ… ØªØ¹Ø¨Ø¦ØªÙ‡ Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠØ§Ù‹ -->
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">Ø§Ù„ÙˆØµÙ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)</label>
                    <textarea class="form-control" id="transactionDescription" rows="2" placeholder="ÙˆØµÙ Ø§Ù„Ø¹Ù…Ù„ÙŠØ©..."></textarea>
                </div>
                <div class="modal-actions">
                    <button class="btn btn-secondary" onclick="closeModal('addTransactionModal')">
                        <i class="fas fa-times"></i> Ø¥Ù„ØºØ§Ø¡
                    </button>
                    <button class="btn btn-primary" id="saveTransactionBtn">
                        <i class="fas fa-save"></i> Ø­ÙØ¸ Ø§Ù„Ø¹Ù…Ù„ÙŠØ©
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Ù†Ø§ÙØ°Ø© Ø§Ù„ØªØ­ÙˆÙŠÙ„ -->
    <div class="modal-overlay" id="transferModal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title">
                    <i class="fas fa-money-bill-transfer"></i>
                    ØªØ­ÙˆÙŠÙ„ Ø£Ù…ÙˆØ§Ù„
                </div>
                <button class="modal-close" onclick="closeModal('transferModal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label class="form-label">Ù…Ù† Ø§Ù„Ø´Ø®Øµ</label>
                    <select class="form-select" id="transferFrom">
                        <!-- Ø³ÙŠØªÙ… ØªØ¹Ø¨Ø¦ØªÙ‡ Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠØ§Ù‹ -->
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">Ø¥Ù„Ù‰ Ø§Ù„Ø´Ø®Øµ</label>
                    <select class="form-select" id="transferTo">
                        <!-- Ø³ÙŠØªÙ… ØªØ¹Ø¨Ø¦ØªÙ‡ Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠØ§Ù‹ -->
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">Ø§Ù„Ù…Ø¨Ù„Øº</label>
                    <input type="number" class="form-control" id="transferAmount" placeholder="0.000" step="0.001">
                </div>
                <div class="form-group">
                    <label class="form-label">Ù…Ù„Ø§Ø­Ø¸Ø§Øª (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)</label>
                    <textarea class="form-control" id="transferNotes" rows="2" placeholder="Ø³Ø¨Ø¨ Ø§Ù„ØªØ­ÙˆÙŠÙ„..."></textarea>
                </div>
                <div class="modal-actions">
                    <button class="btn btn-secondary" onclick="closeModal('transferModal')">
                        <i class="fas fa-times"></i> Ø¥Ù„ØºØ§Ø¡
                    </button>
                    <button class="btn btn-primary" id="saveTransferBtn">
                        <i class="fas fa-exchange-alt"></i> ØªÙ†ÙÙŠØ° Ø§Ù„ØªØ­ÙˆÙŠÙ„
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø®Ø²Ù†Ø© (Ù†ÙØ³ Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù‚Ø¯ÙŠÙ…)
        let people = JSON.parse(localStorage.getItem('smartMoneyManager_people')) || [];
        let transactions = JSON.parse(localStorage.getItem('smartMoneyManager_transactions')) || [];
        
        // Ø¹Ù†Ø§ØµØ± DOM
        const sections = document.querySelectorAll('.section');
        const navItems = document.querySelectorAll('.nav-item');
        const currentTimeElement = document.getElementById('currentTime');
        const totalBalanceElement = document.getElementById('totalBalance');
        const peopleListElement = document.getElementById('peopleList');
        const peopleCountElement = document.getElementById('peopleCount');
        const transactionsListElement = document.getElementById('transactionsList');
        const transactionsCountElement = document.getElementById('transactionsCount');
        const themeToggle = document.getElementById('themeToggle');
        const mainFab = document.getElementById('mainFab');
        
        // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
        document.addEventListener('DOMContentLoaded', function() {
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙˆÙ‚Øª
            updateTime();
            setInterval(updateTime, 60000);
            
            // ØªØ­Ù…ÙŠÙ„ Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù„ÙŠÙ„ÙŠ
            if (localStorage.getItem('darkMode') === 'true') {
                document.body.classList.add('dark-mode');
                themeToggle.innerHTML = '<i class="fas fa-sun"></i>';
            }
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
            updateData();
            
            // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ø£Ø­Ø¯Ø§Ø«
            initializeEvents();
            
            // ØªÙ‡ÙŠØ¦Ø© Ø¨ÙŠØ§Ù†Ø§Øª ØªØ¬Ø±ÙŠØ¨ÙŠØ© Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø¬Ø¯ÙŠØ¯Ø§Ù‹
            if (people.length === 0) {
                initializeSampleData();
            }
        });
        
        // ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙˆÙ‚Øª
        function updateTime() {
            const now = new Date();
            const timeString = now.toLocaleTimeString('ar-LY', {
                hour: '2-digit',
                minute: '2-digit',
                hour12: true
            });
            currentTimeElement.textContent = timeString;
        }
        
        // ØªØ­Ø¯ÙŠØ« Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
        function updateData() {
            updateTotalBalance();
            updatePeopleList();
            updateTransactionsList();
        }
        
        // Ø­Ø³Ø§Ø¨ Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø£Ø±ØµØ¯Ø©
        function updateTotalBalance() {
            let total = 0;
            people.forEach(person => {
                const balance = calculatePersonBalance(person.id);
                total += balance;
            });
            totalBalanceElement.textContent = total.toFixed(3) + ' Ø¯ÙŠÙ†Ø§Ø±';
        }
        
        // Ø­Ø³Ø§Ø¨ Ø±ØµÙŠØ¯ Ø´Ø®Øµ Ù…Ø¹ÙŠÙ†
        function calculatePersonBalance(personId) {
            let balance = 0;
            transactions.forEach(transaction => {
                if (transaction.personId === personId) {
                    if (transaction.type === 'income') {
                        balance += transaction.amount;
                    } else if (transaction.type === 'expense') {
                        balance -= transaction.amount;
                    } else if (transaction.type === 'transfer') {
                        if (transaction.from === personId) {
                            balance -= transaction.amount;
                        }
                        if (transaction.to === personId) {
                            balance += transaction.amount;
                        }
                    }
                }
            });
            return balance;
        }
        
        // ØªØ­Ø¯ÙŠØ« Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø£Ø´Ø®Ø§Øµ
        function updatePeopleList() {
            peopleCountElement.textContent = people.length + ' Ø´Ø®Øµ';
            
            if (people.length === 0) {
                peopleListElement.innerHTML = `
                    <div class="empty-state">
                        <div class="empty-state-icon">
                            <i class="fas fa-users"></i>
                        </div>
                        <div class="empty-state-title">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø­Ø³Ø§Ø¨Ø§Øª</div>
                        <p>Ù‚Ù… Ø¨Ø¥Ø¶Ø§ÙØ© Ø£Ø´Ø®Ø§Øµ Ù„Ø¨Ø¯Ø¡ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª</p>
                    </div>
                `;
                return;
            }
            
            peopleListElement.innerHTML = '';
            people.forEach(person => {
                const balance = calculatePersonBalance(person.id);
                const balanceClass = balance >= 0 ? 'balance-positive' : 'balance-negative';
                const balanceIcon = balance >= 0 ? 'fas fa-arrow-up' : 'fas fa-arrow-down';
                
                const personElement = document.createElement('div');
                personElement.className = 'person-card';
                personElement.innerHTML = `
                    <div class="person-avatar">
                        ${person.name.charAt(0)}
                    </div>
                    <div class="person-name">${person.name}</div>
                    <div class="person-balance ${balanceClass}">
                        <i class="${balanceIcon}"></i>
                        ${Math.abs(balance).toFixed(3)} Ø¯ÙŠÙ†Ø§Ø±
                    </div>
                `;
                personElement.addEventListener('click', () => showPersonDetails(person.id));
                peopleListElement.appendChild(personElement);
            });
        }
        
        // ØªØ­Ø¯ÙŠØ« Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª
        function updateTransactionsList() {
            const filteredTransactions = transactions.slice(-20).reverse(); // Ø¢Ø®Ø± 20 Ø¹Ù…Ù„ÙŠØ©
            transactionsCountElement.textContent = transactions.length + ' Ø¹Ù…Ù„ÙŠØ©';
            
            if (filteredTransactions.length === 0) {
                transactionsListElement.innerHTML = `
                    <div class="empty-state">
                        <div class="empty-state-icon">
                            <i class="fas fa-exchange-alt"></i>
                        </div>
                        <div class="empty-state-title">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¹Ù…Ù„ÙŠØ§Øª</div>
                        <p>Ù‚Ù… Ø¨Ø¥Ø¶Ø§ÙØ© Ø¹Ù…Ù„ÙŠØ§Øª Ù…Ø§Ù„ÙŠØ© Ù„Ø¨Ø¯Ø¡ Ø§Ù„Ø³Ø¬Ù„</p>
                    </div>
                `;
                return;
            }
            
            transactionsListElement.innerHTML = '';
            filteredTransactions.forEach(transaction => {
                const person = people.find(p => p.id === transaction.personId);
                const personName = person ? person.name : 'ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ';
                
                let icon = 'fas fa-exchange-alt';
                let color = '#7C3AED';
                let typeText = 'Ø¹Ù…Ù„ÙŠØ©';
                
                if (transaction.type === 'income') {
                    icon = 'fas fa-arrow-down';
                    color = '#10B981';
                    typeText = 'Ø¥ÙŠØ¯Ø§Ø¹';
                } else if (transaction.type === 'expense') {
                    icon = 'fas fa-arrow-up';
                    color = '#EF4444';
                    typeText = 'Ø³Ø­Ø¨';
                } else if (transaction.type === 'transfer') {
                    icon = 'fas fa-money-bill-transfer';
                    color = '#3B82F6';
                    typeText = 'ØªØ­ÙˆÙŠÙ„';
                }
                
                const transactionElement = document.createElement('div');
                transactionElement.className = 'transaction-item';
                transactionElement.innerHTML = `
                    <div class="transaction-icon" style="background: ${color}">
                        <i class="${icon}"></i>
                    </div>
                    <div class="transaction-details">
                        <div class="transaction-title">${typeText} - ${personName}</div>
                        <div class="transaction-info">
                            ${transaction.description || 'Ù„Ø§ ÙŠÙˆØ¬Ø¯ ÙˆØµÙ'}
                        </div>
                    </div>
                    <div class="transaction-amount" style="color: ${color}">
                        ${transaction.type === 'expense' ? '-' : '+'}${transaction.amount.toFixed(3)}
                    </div>
                `;
                transactionsListElement.appendChild(transactionElement);
            });
        }
        
        // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ø£Ø­Ø¯Ø§Ø«
        function initializeEvents() {
            // ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù„ÙŠÙ„ÙŠ
            themeToggle.addEventListener('click', function() {
                document.body.classList.toggle('dark-mode');
                if (document.body.classList.contains('dark-mode')) {
                    this.innerHTML = '<i class="fas fa-sun"></i>';
                    localStorage.setItem('darkMode', 'true');
                } else {
                    this.innerHTML = '<i class="fas fa-moon"></i>';
                    localStorage.setItem('darkMode', 'false');
                }
            });
            
            // Ø§Ù„ØªÙ†Ù‚Ù„ Ø¨ÙŠÙ† Ø§Ù„Ø£Ù‚Ø³Ø§Ù…
            navItems.forEach(item => {
                item.addEventListener('click', function(e) {
                    e.preventDefault();
                    const sectionId = this.getAttribute('data-section') + '-section';
                    
                    // ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªÙ†Ø´ÙŠØ·
                    navItems.forEach(nav => nav.classList.remove('active'));
                    this.classList.add('active');
                    
                    // Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ù‚Ø³Ù… Ø§Ù„Ù…Ø·Ù„ÙˆØ¨
                    sections.forEach(section => section.classList.remove('active'));
                    document.getElementById(sectionId).classList.add('active');
                    
                    // ØªØ­Ø¯ÙŠØ« Ø²Ø± FAB
                    updateFabAction(sectionId);
                });
            });
            
            // Ø²Ø± Ø§Ù„Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¹Ø§Ø¦Ù…
            mainFab.addEventListener('click', function() {
                const activeSection = document.querySelector('.section.active').id;
                
                switch(activeSection) {
                    case 'accounts-section':
                        openModal('addPersonModal');
                        break;
                    case 'transactions-section':
                        openModal('addTransactionModal');
                        break;
                    case 'reports-section':
                        generateReport();
                        break;
                    case 'settings-section':
                        openSettings();
                        break;
                }
            });
            
            // Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª Ø§Ù„Ø³Ø±ÙŠØ¹Ø©
            document.getElementById('addPersonBtn').addEventListener('click', () => openModal('addPersonModal'));
            document.getElementById('addTransactionBtn').addEventListener('click', () => openModal('addTransactionModal'));
            document.getElementById('transferBtn').addEventListener('click', () => openModal('transferModal'));
            document.getElementById('reportBtn').addEventListener('click', () => switchSection('reports'));
            
            // Ø­ÙØ¸ Ø§Ù„Ø´Ø®Øµ Ø§Ù„Ø¬Ø¯ÙŠØ¯
            document.getElementById('savePersonBtn').addEventListener('click', savePerson);
            
            // Ø­ÙØ¸ Ø§Ù„Ø¹Ù…Ù„ÙŠØ© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©
            document.getElementById('saveTransactionBtn').addEventListener('click', saveTransaction);
            
            // Ø­ÙØ¸ Ø§Ù„ØªØ­ÙˆÙŠÙ„
            document.getElementById('saveTransferBtn').addEventListener('click', saveTransfer);
            
            // ØªØ­Ù…ÙŠÙ„ Ù‚ÙˆØ§Ø¦Ù… Ø§Ù„Ø£Ø´Ø®Ø§Øµ ÙÙŠ Ø§Ù„Ù†Ù…Ø§Ø°Ø¬
            updatePersonSelects();
            
            // Ø§Ù„Ø¨Ø­Ø« ÙÙŠ Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª
            document.getElementById('searchTransactions').addEventListener('input', searchTransactions);
            
            // ØªØµÙÙŠØ© Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª
            document.querySelectorAll('.category-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    document.querySelectorAll('.category-btn').forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    const filter = this.getAttribute('data-filter');
                    filterTransactions(filter);
                });
            });
        }
        
        // ØªØ­Ø¯ÙŠØ« Ø¥Ø¬Ø±Ø§Ø¡ Ø²Ø± FAB Ø­Ø³Ø¨ Ø§Ù„Ù‚Ø³Ù… Ø§Ù„Ù†Ø´Ø·
        function updateFabAction(sectionId) {
            switch(sectionId) {
                case 'accounts-section':
                    mainFab.innerHTML = '<i class="fas fa-user-plus"></i>';
                    break;
                case 'transactions-section':
                    mainFab.innerHTML = '<i class="fas fa-exchange-alt"></i>';
                    break;
                case 'reports-section':
                    mainFab.innerHTML = '<i class="fas fa-chart-bar"></i>';
                    break;
                case 'settings-section':
                    mainFab.innerHTML = '<i class="fas fa-cog"></i>';
                    break;
            }
        }
        
        // ÙØªØ­ Ø§Ù„Ù†Ø§ÙØ°Ø© Ø§Ù„Ù…Ù†Ø¨Ø«Ù‚Ø©
        function openModal(modalId) {
            document.getElementById(modalId).style.display = 'block';
            setTimeout(() => {
                document.getElementById(modalId).style.opacity = '1';
            }, 10);
        }
        
        // Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ù†Ø§ÙØ°Ø© Ø§Ù„Ù…Ù†Ø¨Ø«Ù‚Ø©
        function closeModal(modalId) {
            document.getElementById(modalId).style.opacity = '0';
            setTimeout(() => {
                document.getElementById(modalId).style.display = 'none';
                // Ù…Ø³Ø­ Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬
                const modal = document.getElementById(modalId);
                modal.querySelectorAll('input, textarea, select').forEach(field => {
                    if (field.id !== 'transactionType') {
                        field.value = '';
                    }
                });
            }, 300);
        }
        
        // Ø­ÙØ¸ Ø´Ø®Øµ Ø¬Ø¯ÙŠØ¯
        function savePerson() {
            const name = document.getElementById('personName').value.trim();
            const phone = document.getElementById('personPhone').value.trim();
            const notes = document.getElementById('personNotes').value.trim();
            
            if (!name) {
                alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù… Ø§Ù„Ø´Ø®Øµ');
                return;
            }
            
            const newPerson = {
                id: Date.now().toString(),
                name: name,
                phone: phone,
                notes: notes,
                createdAt: new Date().toISOString()
            };
            
            people.push(newPerson);
            saveToLocalStorage();
            updateData();
            updatePersonSelects();
            closeModal('addPersonModal');
            
            showNotification('ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø´Ø®Øµ Ø¨Ù†Ø¬Ø§Ø­!', 'success');
        }
        
        // Ø­ÙØ¸ Ø¹Ù…Ù„ÙŠØ© Ø¬Ø¯ÙŠØ¯Ø©
        function saveTransaction() {
            const type = document.getElementById('transactionType').value;
            const amount = parseFloat(document.getElementById('transactionAmount').value);
            const personId = document.getElementById('transactionPerson').value;
            const description = document.getElementById('transactionDescription').value.trim();
            
            if (!amount || amount <= 0) {
                alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ù…Ø¨Ù„Øº ØµØ­ÙŠØ­');
                return;
            }
            
            if (!personId) {
                alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø´Ø®Øµ');
                return;
            }
            
            const newTransaction = {
                id: Date.now().toString(),
                type: type,
                amount: amount,
                personId: personId,
                description: description,
                date: new Date().toISOString()
            };
            
            transactions.push(newTransaction);
            saveToLocalStorage();
            updateData();
            closeModal('addTransactionModal');
            
            showNotification('ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¹Ù…Ù„ÙŠØ© Ø¨Ù†Ø¬Ø§Ø­!', 'success');
        }
        
        // Ø­ÙØ¸ ØªØ­ÙˆÙŠÙ„
        function saveTransfer() {
            const fromId = document.getElementById('transferFrom').value;
            const toId = document.getElementById('transferTo').value;
            const amount = parseFloat(document.getElementById('transferAmount').value);
            const notes = document.getElementById('transferNotes').value.trim();
            
            if (!fromId || !toId) {
                alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø´Ø®ØµÙŠÙ† Ù„Ù„ØªØ­ÙˆÙŠÙ„');
                return;
            }
            
            if (fromId === toId) {
                alert('Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„ØªØ­ÙˆÙŠÙ„ Ù„Ù†ÙØ³ Ø§Ù„Ø´Ø®Øµ');
                return;
            }
            
            if (!amount || amount <= 0) {
                alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ù…Ø¨Ù„Øº ØµØ­ÙŠØ­');
                return;
            }
            
            const newTransaction = {
                id: Date.now().toString(),
                type: 'transfer',
                amount: amount,
                from: fromId,
                to: toId,
                description: notes,
                date: new Date().toISOString()
            };
            
            transactions.push(newTransaction);
            saveToLocalStorage();
            updateData();
            closeModal('transferModal');
            
            showNotification('ØªÙ… ØªÙ†ÙÙŠØ° Ø§Ù„ØªØ­ÙˆÙŠÙ„ Ø¨Ù†Ø¬Ø§Ø­!', 'success');
        }
        
        // ØªØ­Ø¯ÙŠØ« Ù‚ÙˆØ§Ø¦Ù… Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø£Ø´Ø®Ø§Øµ
        function updatePersonSelects() {
            const selects = ['transactionPerson', 'transferFrom', 'transferTo'];
            
            selects.forEach(selectId => {
                const select = document.getElementById(selectId);
                if (select) {
                    select.innerHTML = '<option value="">Ø§Ø®ØªØ± Ø§Ù„Ø´Ø®Øµ</option>';
                    people.forEach(person => {
                        const option = document.createElement('option');
                        option.value = person.id;
                        option.textContent = person.name;
                        select.appendChild(option);
                    });
                }
            });
        }
        
        // Ø§Ù„Ø¨Ø­Ø« ÙÙŠ Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª
        function searchTransactions() {
            const query = document.getElementById('searchTransactions').value.toLowerCase();
            // Ø³ÙŠØªÙ… ØªØ·ÙˆÙŠØ± Ù‡Ø°Ø§ ÙÙŠ Ø§Ù„Ø¥ØµØ¯Ø§Ø±Ø§Øª Ø§Ù„Ù‚Ø§Ø¯Ù…Ø©
        }
        
        // ØªØµÙÙŠØ© Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª
        function filterTransactions(filter) {
            // Ø³ÙŠØªÙ… ØªØ·ÙˆÙŠØ± Ù‡Ø°Ø§ ÙÙŠ Ø§Ù„Ø¥ØµØ¯Ø§Ø±Ø§Øª Ø§Ù„Ù‚Ø§Ø¯Ù…Ø©
        }
        
        // Ø¹Ø±Ø¶ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø´Ø®Øµ
        function showPersonDetails(personId) {
            const person = people.find(p => p.id === personId);
            if (!person) return;
            
            const balance = calculatePersonBalance(personId);
            const personTransactions = transactions.filter(t => 
                t.personId === personId || t.from === personId || t.to === personId
            );
            
            // Ø³ÙŠØªÙ… ØªØ·ÙˆÙŠØ± Ù‡Ø°Ø§ ÙÙŠ Ø§Ù„Ø¥ØµØ¯Ø§Ø±Ø§Øª Ø§Ù„Ù‚Ø§Ø¯Ù…Ø©
            alert(`ØªÙØ§ØµÙŠÙ„ ${person.name}\nØ§Ù„Ø±ØµÙŠØ¯: ${balance.toFixed(3)} Ø¯ÙŠÙ†Ø§Ø±\nØ¹Ø¯Ø¯ Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª: ${personTransactions.length}`);
        }
        
        // ØªÙˆÙ„ÙŠØ¯ Ø§Ù„ØªÙ‚Ø±ÙŠØ±
        function generateReport() {
            const period = parseInt(document.getElementById('reportPeriod').value);
            const now = new Date();
            const startDate = new Date();
            startDate.setDate(now.getDate() - period);
            
            const recentTransactions = transactions.filter(t => {
                const transactionDate = new Date(t.date);
                return transactionDate >= startDate;
            });
            
            let totalIncome = 0;
            let totalExpense = 0;
            let totalTransfer = 0;
            
            recentTransactions.forEach(t => {
                if (t.type === 'income') totalIncome += t.amount;
                else if (t.type === 'expense') totalExpense += t.amount;
                else if (t.type === 'transfer') totalTransfer += t.amount;
            });
            
            const reportSummary = document.getElementById('reportSummary');
            reportSummary.innerHTML = `
                <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px; margin-top: 20px;">
                    <div style="background: var(--success); color: white; padding: 15px; border-radius: var(--radius-md);">
                        <div style="font-size: 12px;">Ø§Ù„Ø¥ÙŠØ¯Ø§Ø¹Ø§Øª</div>
                        <div style="font-size: 20px; font-weight: 700;">${totalIncome.toFixed(3)}</div>
                    </div>
                    <div style="background: var(--danger); color: white; padding: 15px; border-radius: var(--radius-md);">
                        <div style="font-size: 12px;">Ø§Ù„Ø³Ø­ÙˆØ¨Ø§Øª</div>
                        <div style="font-size: 20px; font-weight: 700;">${totalExpense.toFixed(3)}</div>
                    </div>
                </div>
                <div style="margin-top: 15px; padding: 15px; background: var(--bg-secondary); border-radius: var(--radius-md);">
                    <div style="font-weight: 600; margin-bottom: 5px;">ØµØ§ÙÙŠ Ø§Ù„Ø±Ø¨Ø­</div>
                    <div style="font-size: 24px; font-weight: 700; color: ${(totalIncome - totalExpense) >= 0 ? 'var(--success)' : 'var(--danger)'}">
                        ${(totalIncome - totalExpense).toFixed(3)} Ø¯ÙŠÙ†Ø§Ø±
                    </div>
                </div>
            `;
            
            showNotification('ØªÙ… ØªÙˆÙ„ÙŠØ¯ Ø§Ù„ØªÙ‚Ø±ÙŠØ±!', 'info');
        }
        
        // ÙØªØ­ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
        function openSettings() {
            // Ø³ÙŠØªÙ… ØªØ·ÙˆÙŠØ± Ù‡Ø°Ø§ ÙÙŠ Ø§Ù„Ø¥ØµØ¯Ø§Ø±Ø§Øª Ø§Ù„Ù‚Ø§Ø¯Ù…Ø©
        }
        
        // ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„Ø£Ù‚Ø³Ø§Ù…
        function switchSection(sectionName) {
            navItems.forEach(nav => nav.classList.remove('active'));
            sections.forEach(section => section.classList.remove('active'));
            
            document.querySelector(`[data-section="${sectionName}"]`).classList.add('active');
            document.getElementById(`${sectionName}-section`).classList.add('active');
            
            updateFabAction(`${sectionName}-section`);
        }
        
        // Ø¹Ø±Ø¶ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª
        function showNotification(message, type = 'info') {
            // Ø³ÙŠØªÙ… ØªØ·ÙˆÙŠØ± Ù‡Ø°Ø§ ÙÙŠ Ø§Ù„Ø¥ØµØ¯Ø§Ø±Ø§Øª Ø§Ù„Ù‚Ø§Ø¯Ù…Ø©
            alert(message);
        }
        
        // Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙÙŠ localStorage
        function saveToLocalStorage() {
            localStorage.setItem('smartMoneyManager_people', JSON.stringify(people));
            localStorage.setItem('smartMoneyManager_transactions', JSON.stringify(transactions));
        }
        
        // ØªÙ‡ÙŠØ¦Ø© Ø¨ÙŠØ§Ù†Ø§Øª ØªØ¬Ø±ÙŠØ¨ÙŠØ©
        function initializeSampleData() {
            people = [
                {
                    id: '1',
                    name: 'Ø£Ø­Ù…Ø¯ Ù…Ø­Ù…Ø¯',
                    phone: '0512345678',
                    notes: 'Ø´Ø±ÙŠÙƒ ÙÙŠ Ø§Ù„Ø¹Ù…Ù„',
                    createdAt: new Date().toISOString()
                },
                {
                    id: '2',
                    name: 'Ø³Ø§Ø±Ø© Ø¹Ù„ÙŠ',
                    phone: '0523456789',
                    notes: 'ØµØ¯ÙŠÙ‚Ø©',
                    createdAt: new Date().toISOString()
                },
                {
                    id: '3',
                    name: 'Ø®Ø§Ù„Ø¯ Ø­Ø³Ù†',
                    phone: '0534567890',
                    notes: 'Ø¬Ø§Ø±',
                    createdAt: new Date().toISOString()
                }
            ];
            
            transactions = [
                {
                    id: '1',
                    type: 'income',
                    amount: 500,
                    personId: '1',
                    description: 'Ø¯ÙØ¹Ø© Ø´Ù‡Ø± Ø£ÙƒØªÙˆØ¨Ø±',
                    date: new Date('2024-01-15').toISOString()
                },
                {
                    id: '2',
                    type: 'expense',
                    amount: 200,
                    personId: '2',
                    description: 'Ø³Ù„ÙØ© Ø·Ø§Ø±Ø¦Ø©',
                    date: new Date('2024-01-20').toISOString()
                },
                {
                    id: '3',
                    type: 'transfer',
                    amount: 100,
                    from: '1',
                    to: '3',
                    description: 'Ø³Ø¯Ø§Ø¯ Ø¯ÙŠÙ†',
                    date: new Date('2024-01-25').toISOString()
                }
            ];
            
            saveToLocalStorage();
            updateData();
            updatePersonSelects();
        }
        
        // Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ù†ÙˆØ§ÙØ° Ø¹Ù†Ø¯ Ø§Ù„Ù†Ù‚Ø± Ø®Ø§Ø±Ø¬Ù‡Ø§
        window.addEventListener('click', function(event) {
            const modals = document.querySelectorAll('.modal-overlay');
            modals.forEach(modal => {
                if (event.target === modal) {
                    closeModal(modal.id);
                }
            });
        });
        
        // ØªØ­Ø³ÙŠÙ†Ø§Øª Ù„Ù„Ù‡ÙˆØ§ØªÙ
        document.addEventListener('touchstart', function() {}, {passive: true});
    </script>
</body>
</html>
